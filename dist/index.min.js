(function(t){"use strict";function e(t){return t&&typeof t==="object"&&"default"in t?t:{default:t}}var r=e(t);
/*!
   * vuex v3.5.1
   * (c) 2020 Evan You
   * @license MIT
   */function i(t){var e=Number(t.version.split(".")[0]);if(e>=2){t.mixin({beforeCreate:i})}else{var r=t.prototype._init;t.prototype._init=function(t){if(t===void 0)t={};t.init=t.init?[i].concat(t.init):i;r.call(this,t)}}function i(){var t=this.$options;if(t.store){this.$store=typeof t.store==="function"?t.store():t.store}else if(t.parent&&t.parent.$store){this.$store=t.parent.$store}}}var n=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};var a=n.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){if(!a){return}t._devtoolHook=a;a.emit("vuex:init",t);a.on("vuex:travel-to-state",(function(e){t.replaceState(e)}));t.subscribe((function(t,e){a.emit("vuex:mutation",t,e)}),{prepend:true});t.subscribeAction((function(t,e){a.emit("vuex:action",t,e)}),{prepend:true})}function o(t,e){return t.filter(e)[0]}function u(t,e){if(e===void 0)e=[];if(t===null||typeof t!=="object"){return t}var r=o(e,(function(e){return e.original===t}));if(r){return r.copy}var i=Array.isArray(t)?[]:{};e.push({original:t,copy:i});Object.keys(t).forEach((function(r){i[r]=u(t[r],e)}));return i}function c(t,e){Object.keys(t).forEach((function(r){return e(t[r],r)}))}function l(t){return t!==null&&typeof t==="object"}function p(t){return t&&typeof t.then==="function"}function d(t,e){return function(){return t(e)}}var f=function t(e,r){this.runtime=r;this._children=Object.create(null);this._rawModule=e;var i=e.state;this.state=(typeof i==="function"?i():i)||{}};var h={namespaced:{configurable:true}};h.namespaced.get=function(){return!!this._rawModule.namespaced};f.prototype.addChild=function t(e,r){this._children[e]=r};f.prototype.removeChild=function t(e){delete this._children[e]};f.prototype.getChild=function t(e){return this._children[e]};f.prototype.hasChild=function t(e){return e in this._children};f.prototype.update=function t(e){this._rawModule.namespaced=e.namespaced;if(e.actions){this._rawModule.actions=e.actions}if(e.mutations){this._rawModule.mutations=e.mutations}if(e.getters){this._rawModule.getters=e.getters}};f.prototype.forEachChild=function t(e){c(this._children,e)};f.prototype.forEachGetter=function t(e){if(this._rawModule.getters){c(this._rawModule.getters,e)}};f.prototype.forEachAction=function t(e){if(this._rawModule.actions){c(this._rawModule.actions,e)}};f.prototype.forEachMutation=function t(e){if(this._rawModule.mutations){c(this._rawModule.mutations,e)}};Object.defineProperties(f.prototype,h);var m=function t(e){this.register([],e,false)};m.prototype.get=function t(e){return e.reduce((function(t,e){return t.getChild(e)}),this.root)};m.prototype.getNamespace=function t(e){var r=this.root;return e.reduce((function(t,e){r=r.getChild(e);return t+(r.namespaced?e+"/":"")}),"")};m.prototype.update=function t(e){v([],this.root,e)};m.prototype.register=function t(e,r,i){var n=this;if(i===void 0)i=true;var a=new f(r,i);if(e.length===0){this.root=a}else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],a)}if(r.modules){c(r.modules,(function(t,r){n.register(e.concat(r),t,i)}))}};m.prototype.unregister=function t(e){var r=this.get(e.slice(0,-1));var i=e[e.length-1];var n=r.getChild(i);if(!n){return}if(!n.runtime){return}r.removeChild(i)};m.prototype.isRegistered=function t(e){var r=this.get(e.slice(0,-1));var i=e[e.length-1];return r.hasChild(i)};function v(t,e,r){e.update(r);if(r.modules){for(var i in r.modules){if(!e.getChild(i)){return}v(t.concat(i),e.getChild(i),r.modules[i])}}}var y;var g=function t(e){var r=this;if(e===void 0)e={};if(!y&&typeof window!=="undefined"&&window.Vue){B(window.Vue)}var i=e.plugins;if(i===void 0)i=[];var n=e.strict;if(n===void 0)n=false;this._committing=false;this._actions=Object.create(null);this._actionSubscribers=[];this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new m(e);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new y;this._makeLocalGettersCache=Object.create(null);var a=this;var o=this;var u=o.dispatch;var c=o.commit;this.dispatch=function t(e,r){return u.call(a,e,r)};this.commit=function t(e,r,i){return c.call(a,e,r,i)};this.strict=n;var l=this._modules.root.state;S(this,l,[],this._modules.root);T(this,l);i.forEach((function(t){return t(r)}));var p=e.devtools!==undefined?e.devtools:y.config.devtools;if(p){s(this)}};var _={state:{configurable:true}};_.state.get=function(){return this._vm._data.$$state};_.state.set=function(t){};g.prototype.commit=function t(e,r,i){var n=this;var a=z(e,r,i);var s=a.type;var o=a.payload;var u={type:s,payload:o};var c=this._mutations[s];if(!c){return}this._withCommit((function(){c.forEach((function t(e){e(o)}))}));this._subscribers.slice().forEach((function(t){return t(u,n.state)}))};g.prototype.dispatch=function t(e,r){var i=this;var n=z(e,r);var a=n.type;var s=n.payload;var o={type:a,payload:s};var u=this._actions[a];if(!u){return}try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(t){}var c=u.length>1?Promise.all(u.map((function(t){return t(s)}))):u[0](s);return new Promise((function(t,e){c.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(t){}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(t){}e(t)}))}))};g.prototype.subscribe=function t(e,r){return b(e,this._subscribers,r)};g.prototype.subscribeAction=function t(e,r){var i=typeof e==="function"?{before:e}:e;return b(i,this._actionSubscribers,r)};g.prototype.watch=function t(e,r,i){var n=this;return this._watcherVM.$watch((function(){return e(n.state,n.getters)}),r,i)};g.prototype.replaceState=function t(e){var r=this;this._withCommit((function(){r._vm._data.$$state=e}))};g.prototype.registerModule=function t(e,r,i){if(i===void 0)i={};if(typeof e==="string"){e=[e]}this._modules.register(e,r);S(this,this.state,e,this._modules.get(e),i.preserveState);T(this,this.state)};g.prototype.unregisterModule=function t(e){var r=this;if(typeof e==="string"){e=[e]}this._modules.unregister(e);this._withCommit((function(){var t=k(r.state,e.slice(0,-1));y.delete(t,e[e.length-1])}));w(this)};g.prototype.hasModule=function t(e){if(typeof e==="string"){e=[e]}return this._modules.isRegistered(e)};g.prototype.hotUpdate=function t(e){this._modules.update(e);w(this,true)};g.prototype._withCommit=function t(e){var r=this._committing;this._committing=true;e();this._committing=r};Object.defineProperties(g.prototype,_);function b(t,e,r){if(e.indexOf(t)<0){r&&r.prepend?e.unshift(t):e.push(t)}return function(){var r=e.indexOf(t);if(r>-1){e.splice(r,1)}}}function w(t,e){t._actions=Object.create(null);t._mutations=Object.create(null);t._wrappedGetters=Object.create(null);t._modulesNamespaceMap=Object.create(null);var r=t.state;S(t,r,[],t._modules.root,true);T(t,r,e)}function T(t,e,r){var i=t._vm;t.getters={};t._makeLocalGettersCache=Object.create(null);var n=t._wrappedGetters;var a={};c(n,(function(e,r){a[r]=d(e,t);Object.defineProperty(t.getters,r,{get:function(){return t._vm[r]},enumerable:true})}));var s=y.config.silent;y.config.silent=true;t._vm=new y({data:{$$state:e},computed:a});y.config.silent=s;if(t.strict){F(t)}if(i){if(r){t._withCommit((function(){i._data.$$state=null}))}y.nextTick((function(){return i.$destroy()}))}}function S(t,e,r,i,n){var a=!r.length;var s=t._modules.getNamespace(r);if(i.namespaced){if(t._modulesNamespaceMap[s]&&"production"!=="production"){console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/"))}t._modulesNamespaceMap[s]=i}if(!a&&!n){var o=k(e,r.slice(0,-1));var u=r[r.length-1];t._withCommit((function(){y.set(o,u,i.state)}))}var c=i.context=C(t,s,r);i.forEachMutation((function(e,r){var i=s+r;I(t,i,e,c)}));i.forEachAction((function(e,r){var i=e.root?r:s+r;var n=e.handler||e;x(t,i,n,c)}));i.forEachGetter((function(e,r){var i=s+r;A(t,i,e,c)}));i.forEachChild((function(i,a){S(t,e,r.concat(a),i,n)}))}function C(t,e,r){var i=e==="";var n={dispatch:i?t.dispatch:function(r,i,n){var a=z(r,i,n);var s=a.payload;var o=a.options;var u=a.type;if(!o||!o.root){u=e+u}return t.dispatch(u,s)},commit:i?t.commit:function(r,i,n){var a=z(r,i,n);var s=a.payload;var o=a.options;var u=a.type;if(!o||!o.root){u=e+u}t.commit(u,s,o)}};Object.defineProperties(n,{getters:{get:i?function(){return t.getters}:function(){return M(t,e)}},state:{get:function(){return k(t.state,r)}}});return n}function M(t,e){if(!t._makeLocalGettersCache[e]){var r={};var i=e.length;Object.keys(t.getters).forEach((function(n){if(n.slice(0,i)!==e){return}var a=n.slice(i);Object.defineProperty(r,a,{get:function(){return t.getters[n]},enumerable:true})}));t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function I(t,e,r,i){var n=t._mutations[e]||(t._mutations[e]=[]);n.push((function e(n){r.call(t,i.state,n)}))}function x(t,e,r,i){var n=t._actions[e]||(t._actions[e]=[]);n.push((function e(n){var a=r.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},n);if(!p(a)){a=Promise.resolve(a)}if(t._devtoolHook){return a.catch((function(e){t._devtoolHook.emit("vuex:error",e);throw e}))}else{return a}}))}function A(t,e,r,i){if(t._wrappedGetters[e]){return}t._wrappedGetters[e]=function t(e){return r(i.state,i.getters,e.state,e.getters)}}function F(t){t._vm.$watch((function(){return this._data.$$state}),(function(){}),{deep:true,sync:true})}function k(t,e){return e.reduce((function(t,e){return t[e]}),t)}function z(t,e,r){if(l(t)&&t.type){r=e;e=t;t=t.type}return{type:t,payload:e,options:r}}function B(t){if(y&&t===y){return}y=t;i(y)}var N=L((function(t,e){var r={};O(e).forEach((function(e){var i=e.key;var n=e.val;r[i]=function e(){var r=this.$store.state;var i=this.$store.getters;if(t){var a=P(this.$store,"mapState",t);if(!a){return}r=a.context.state;i=a.context.getters}return typeof n==="function"?n.call(this,r,i):r[n]};r[i].vuex=true}));return r}));var $=L((function(t,e){var r={};O(e).forEach((function(e){var i=e.key;var n=e.val;r[i]=function e(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var a=this.$store.commit;if(t){var s=P(this.$store,"mapMutations",t);if(!s){return}a=s.context.commit}return typeof n==="function"?n.apply(this,[a].concat(r)):a.apply(this.$store,[n].concat(r))}}));return r}));var E=L((function(t,e){var r={};O(e).forEach((function(e){var i=e.key;var n=e.val;n=t+n;r[i]=function e(){if(t&&!P(this.$store,"mapGetters",t)){return}return this.$store.getters[n]};r[i].vuex=true}));return r}));var D=L((function(t,e){var r={};O(e).forEach((function(e){var i=e.key;var n=e.val;r[i]=function e(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var a=this.$store.dispatch;if(t){var s=P(this.$store,"mapActions",t);if(!s){return}a=s.context.dispatch}return typeof n==="function"?n.apply(this,[a].concat(r)):a.apply(this.$store,[n].concat(r))}}));return r}));var R=function(t){return{mapState:N.bind(null,t),mapGetters:E.bind(null,t),mapMutations:$.bind(null,t),mapActions:D.bind(null,t)}};function O(t){if(!j(t)){return[]}return Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}}))}function j(t){return Array.isArray(t)||l(t)}function L(t){return function(e,r){if(typeof e!=="string"){r=e;e=""}else if(e.charAt(e.length-1)!=="/"){e+="/"}return t(e,r)}}function P(t,e,r){var i=t._modulesNamespaceMap[r];return i}function H(t){if(t===void 0)t={};var e=t.collapsed;if(e===void 0)e=true;var r=t.filter;if(r===void 0)r=function(t,e,r){return true};var i=t.transformer;if(i===void 0)i=function(t){return t};var n=t.mutationTransformer;if(n===void 0)n=function(t){return t};var a=t.actionFilter;if(a===void 0)a=function(t,e){return true};var s=t.actionTransformer;if(s===void 0)s=function(t){return t};var o=t.logMutations;if(o===void 0)o=true;var c=t.logActions;if(c===void 0)c=true;var l=t.logger;if(l===void 0)l=console;return function(t){var p=u(t.state);if(typeof l==="undefined"){return}if(o){t.subscribe((function(t,a){var s=u(a);if(r(t,p,s)){var o=J();var c=n(t);var d="mutation "+t.type+o;G(l,d,e);l.log("%c prev state","color: #9E9E9E; font-weight: bold",i(p));l.log("%c mutation","color: #03A9F4; font-weight: bold",c);l.log("%c next state","color: #4CAF50; font-weight: bold",i(s));V(l)}p=s}))}if(c){t.subscribeAction((function(t,r){if(a(t,r)){var i=J();var n=s(t);var o="action "+t.type+i;G(l,o,e);l.log("%c action","color: #03A9F4; font-weight: bold",n);V(l)}}))}}}function G(t,e,r){var i=r?t.groupCollapsed:t.group;try{i.call(t,e)}catch(r){t.log(e)}}function V(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function J(){var t=new Date;return" @ "+U(t.getHours(),2)+":"+U(t.getMinutes(),2)+":"+U(t.getSeconds(),2)+"."+U(t.getMilliseconds(),3)}function q(t,e){return new Array(e+1).join(t)}function U(t,e){return q("0",e-t.toString().length)+t}var K={Store:g,install:B,version:"3.5.1",mapState:N,mapMutations:$,mapGetters:E,mapActions:D,createNamespacedHelpers:R,createLogger:H};const X=()=>({text:"",file:null,binary:null,binaryLoading:false,loadingToMemoryTime:null,error:null});const Y={textByteSize(t,e){return(new TextEncoder).encode(t.text).byteLength},fileByteSize(t,e){return t.file?t.file.size:null}};const W={async setBinary({commit:t,state:e},r){t("binaryLoading",true);t("loadingToMemoryTime",null);if(e.error){t("resetError")}const i=performance.now();let n;try{n=await r.arrayBuffer()}catch(e){console.error(e);t("error",e)}t("setBinary",n);t("binaryLoading",false);t("loadingToMemoryTime",performance.now()-i)},async initBinary({dispatch:t,state:e}){await t("setBinary",e.file)}};const Z={setText(t,e){t.text=e},clearText(t){t.text=""},setFile(t,e){t.file=e},clearFile(t){t.file=null},setBinary(t,e){t.binary=e},clearBinary(t){t.binary=null},binaryLoading(t,e){t.binaryLoading=e},loadingToMemoryTime(t,e){t.loadingToMemoryTime=e},error(t,e){t.error=e},resetError(t){t.error=null}};var Q={namespaced:true,state:X,getters:Y,actions:W,mutations:Z};const tt=()=>({activeInputType:"text",activeInputTypeAutoSwitcher:true});const et={activeInputType(t,e){t.activeInputType=e},activeInputTypeAutoSwitcher(t,e){t.activeInputTypeAutoSwitcher=e}};var rt={namespaced:true,state:tt,mutations:et};const it=function(){const{port1:t,port2:e}=new MessageChannel;const r=[];t.onmessage=function(){const t=r.shift();t()};return function(t){e.postMessage(null);r.push(t)}}();async function*nt(t){const e=t.getReader();while(true){const{done:t,value:r}=await e.read();if(t){break}yield r}}function*at(t,e=65536){const r=new Uint8Array(t);let i=0;while(true){const t=r.subarray(i,i+e);if(!t.length){break}yield t;i+=e}}function*st(t,e=2*1024*1024){let r=0;while(true){const n=t.slice(r,r+e);if(!n.size){break}yield i(n);r+=e}async function i(t){return new Uint8Array(await t.arrayBuffer())}}function ot(t){return t instanceof ArrayBuffer}function ut(t){return ot(t)||ArrayBuffer.isView(t)}function ct(t){return typeof t==="string"||t instanceof String}function lt(t){return t instanceof Blob}function pt(t){const e=new Date(t*1e3);function r(t){return t.toString().padStart(2,"0")}return e.getFullYear()+"."+r(e.getMonth()+1)+"."+r(e.getDate())+" "+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())}function dt(t,e=2){if(t===0){return"0 B"}const r=1024;e=e<0?0:e;const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];const n=Math.floor(Math.log(t)/Math.log(r));return Number.parseFloat((t/Math.pow(r,n)).toFixed(e))+" "+i[n]}r["default"].use(K);var ft=new K.Store({modules:{input:Q,["input-switch"]:rt},plugins:[ht]});function ht(t){t.subscribe(t=>{if(ut(t.payload)){const e=t.payload;if(ot(e)){console.log({type:t.type,payload:"ArrayBuffer("+e.byteLength+")",payloadPreview:new Uint8Array(e).slice(0,1024).buffer})}else{const r=e.slice(0,1).byteLength||1;console.log({type:t.type,payload:e[Symbol.toStringTag]+"("+e.length+")",payloadPreview:e.slice(0,1024/r)})}}else{console.log(t)}})}var mt={name:"NumberTrio",props:{value:{type:String,required:true,validator(t){return Boolean(t.match(/^\d+$/))}},position:{type:Number,required:true},count:{type:Number,required:true},padding:{type:String}},computed:{part1(){return this.parts.part1},part2(){return this.parts.part2},parts(){const t=this.value;if(this.isLast){return{part1:t,part2:""}}else{return{part1:t.substring(0,t.length-1),part2:t.substring(t.length-1)}}},isLast(){return this.position===this.count-1}}};function vt(t,e,r,i,n,a,s,o,u,c){if(typeof s!=="boolean"){u=o;o=s;s=false}const l=typeof r==="function"?r.options:r;if(t&&t.render){l.render=t.render;l.staticRenderFns=t.staticRenderFns;l._compiled=true;if(n){l.functional=true}}if(i){l._scopeId=i}let p;if(a){p=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!t&&typeof __VUE_SSR_CONTEXT__!=="undefined"){t=__VUE_SSR_CONTEXT__}if(e){e.call(this,u(t))}if(t&&t._registeredComponents){t._registeredComponents.add(a)}};l._ssrRegister=p}else if(e){p=s?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}}if(p){if(l.functional){const t=l.render;l.render=function e(r,i){p.call(i);return t(r,i)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,p):[p]}}return r}const yt=mt;var gt=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("span",{staticClass:"trio"},[t.part1?r("span",[t._v(t._s(t.part1))]):t._e(),t.part2?r("span",{staticClass:"padded",style:{letterSpacing:t.padding}},[t._v(t._s(t.part2))]):t._e()])};var _t=[];gt._withStripped=true;const bt=undefined;const wt=undefined;const Tt=undefined;const St=false;const Ct=vt({render:gt,staticRenderFns:_t},bt,yt,wt,St,Tt,false,undefined,undefined,undefined);var Mt={name:"FormattedNumber",props:{number:{type:Number,required:true},precision:{type:Number,default:2},padding:{type:String,default:null}},computed:{isNegative(){return this.parts.isNegative},integer(){return this.parts.integer},decimal(){return this.parts.decimal},parts(){const[t,e]=this.number.toString().split(".");const r=this.number<0;return{isNegative:r,integer:r?t.substring(1):t,decimal:e}},decimalTrimmed(){const[t,e]=[this.integer,this.decimal];const r=this.precision;if(e){const i=e.substring(0,r+1-t.length);return i.match(/^0*$/)?"":i}return null},integerTrios(){return this.getTrios(this.integer)}},methods:{getTrios(t){const e=[];const r=(t.length%3-3)%3;for(let i=r;i<t.length;i+=3){const r=t.substring(i,i+3);e.push(r)}return e}},components:{NumberTrio:Ct}};const It=Mt;var xt=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("span",{staticClass:"formatted-number"},[t.isNegative?r("span",{staticClass:"minus"},[t._v("-")]):t._e(),r("span",{staticClass:"integer"},t._l(t.integerTrios,(function(e,i){return r("NumberTrio",{key:i,attrs:{value:e,position:i,count:t.integerTrios.length,padding:t.padding}})})),1),t.decimalTrimmed?r("span",{staticClass:"point"},[t._v(".")]):t._e(),t.decimalTrimmed?r("span",{staticClass:"decimal"},[t._v(t._s(t.decimalTrimmed))]):t._e()])};var At=[];xt._withStripped=true;const Ft=undefined;const kt=undefined;const zt=undefined;const Bt=false;const Nt=vt({render:xt,staticRenderFns:At},Ft,It,kt,Bt,zt,false,undefined,undefined,undefined);const $t=new r["default"];var Et={created(){$t.$on("input-changed",this.onInputChanged)},props:["hasher","input","settings"],methods:{onInputChanged(){this.newInput=true},async compute(){this.computing=true;this.time=0;this.progress=0;this.$forceUpdate();await new Promise(t=>setTimeout(t,16));let t;if(ct(this.input)){t=this.input}else{if(!this.hasher.binarySupported){return}if(lt(this.input)){const e=performance.now();t=await this.input.arrayBuffer();this.loadingToMemoryTime=performance.now()-e}else{t=this.input;this.loadingToMemoryTime=this.settings.loadingToMemoryTime}this.$forceUpdate();await new Promise(t=>setTimeout(t,16))}const e=performance.now();this.hash=this.hasher.hash(t);this.progress=100;this.time=performance.now()-e;this.newInput=false;this.computing=false},async streamCompute(){this.computing=true;this.progress=0;await new Promise(t=>setTimeout(t,16));const t=this;this.loadingToMemoryTime=null;if(this.streamMode==="FileReader"){console.log(this.settings.readerChunkSize);await e(st(this.input,this.settings.readerChunkSize),this.input.size)}else if(this.streamMode==="ReadableStream"){await e(nt(this.input.stream()),this.input.size)}else if(this.streamMode==="ArrayBuffer"){await e(at(this.input),this.input.byteLength)}this.newInput=false;this.computing=false;async function e(e,r){const i=new t.hasher;const n=performance.now();let a=n;let s=0;const o=t.settings;t.progress=0;for await(const n of e){if(o.animation){const e=performance.now();if(e-a>1e3/o.fps){a=e;t.progress=s/r*100;await new Promise(t=>it(t))}s+=n.length}i.update(n)}t.progress=100;t.hash=i.finalize();t.time=performance.now()-n}}},data(){return{hash:"",time:"",progress:0,loadingToMemoryTime:null,newInput:true,computing:false}},computed:{streamMethodMessage(){if(this.streamMode==="ArrayBuffer"){return"Iterate ArrayBuffer chunks of the file loaded in the memory"}if(this.streamMode==="FileReader"){return"Stream reading of the file via FileReader"}if(this.streamMode==="ReadableStream"){return"Stream reading of the file via ReadableStream"}},unsupportedStreamMethodMessage(){if(!this.hasher.updateSupported){return"Does not support `update` method"}if(this.streamMode==="String"){return"I see no sense to use progressive hashing for the text input"}},inputIsString(){return ct(this.input)},totalTime(){if(this.loadingToMemoryTime&&this.time){const t=Number(this.time)+Number(this.loadingToMemoryTime);return Number(t.toFixed(2))}else{return null}},streamMode(){if(ot(this.input)){return"ArrayBuffer"}else if(lt(this.input)){if(this.settings.streamType==="FileReader"){return"FileReader"}if(this.settings.streamType==="ReadableStream"){return"ReadableStream"}}return"String"}},components:{FormattedNumber:Nt}};const Dt=Et;var Rt=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"hasher-item-component",class:t.computing?"computing":null},[r("div",{staticClass:"top"},[r("div",{staticClass:"progress-line",style:{width:t.progress+"%"}}),r("div",{staticClass:"name"},[t._v(t._s(t.hasher.githubName))]),r("div",{staticClass:"compute-buttons"},[r("button",{attrs:{disabled:!t.hasher.binarySupported&&!t.inputIsString||t.input===null,title:(!t.hasher.binarySupported?"Does not support ArrayBuffer":null)||(t.input===null?"No selected file":"Compute the hash without data splitting (the whole file will be loaded to memory)")},on:{click:t.compute}},[t._v("Compute")]),r("button",{attrs:{disabled:!t.hasher.updateSupported||t.streamMode==="String"||t.settings.readerChunkSize<1,title:t.unsupportedStreamMethodMessage||t.streamMethodMessage},on:{click:t.streamCompute}},[t._v("Stream Compute")])])]),r("div",{staticClass:"middle",style:{opacity:t.newInput||!t.time?"0.2":"1"}},[r("div",{staticClass:"hash-times"},[r("div",{staticClass:"hash-time",attrs:{title:"Hashing time"}},[t.time?r("span",[r("FormattedNumber",{attrs:{number:t.time}}),t._v("\nms")],1):t._e()]),r("div",{staticClass:"file-loading-time",attrs:{title:"Loading to memory time"}},[t.loadingToMemoryTime?r("span",[r("FormattedNumber",{attrs:{number:t.loadingToMemoryTime}}),t._v("\nms")],1):t._e()]),r("div",{staticClass:"total-hash-time",attrs:{title:"Total time"}},[t.totalTime?r("div",[r("FormattedNumber",{attrs:{number:t.totalTime}}),t._v("\nms")],1):t._e()])])]),r("div",{staticClass:"bottom"},[r("div",{staticClass:"hash",style:{color:t.newInput?"#ddd":"#000",opacity:t.hash?1:0}},[t._v(t._s(t.hash))])])])};var Ot=[];Rt._withStripped=true;const jt=undefined;const Lt="data-v-5e193489";const Pt=undefined;const Ht=false;const Gt=vt({render:Rt,staticRenderFns:Ot},jt,Dt,Lt,Ht,Pt,false,undefined,undefined,undefined);var Vt={data(){return{dropHover:false}},computed:{...N("input",{file:t=>t.file})},methods:{...$("input",["setFile"]),secondsToFormattedString:pt,bytesToSize:dt,async handleFileData(t){this.setFile(t)},async onFileInputChange(t){const e=t.target;const r=e.files[0];await this.handleFileData(r);e.value=null},async onFileDrop(t){t.preventDefault();setTimeout(t=>this.dropHover=false,50);const e=t.dataTransfer.files[0];await this.handleFileData(e)},onFileDragEnter(){setTimeout(t=>this.dropHover=true,0)},onFileDragLeave(){this.dropHover=false},onFileDragOver(t){t.preventDefault();t.dataTransfer.dropEffect="copy"},disableDragOverNonThisComponent(){document.querySelector("body").addEventListener("dragover",t=>{if(!this.$el.contains(t.target)){t.preventDefault();t.dataTransfer.dropEffect="none"}})}},mounted(){this.disableDragOverNonThisComponent()}};const Jt=Vt;var qt=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"file-input-drag-n-drop-component",class:{"drop-hover":t.dropHover},on:{drop:t.onFileDrop,dragenter:t.onFileDragEnter,dragleave:t.onFileDragLeave,dragover:t.onFileDragOver}},[r("label",{attrs:{for:"file-input"}},[!t.file?r("div",{attrs:{id:"add-files-button"}},[t._t("default",[t._v("Select file")])],2):t._e(),r("input",{staticStyle:{display:"none"},attrs:{id:"file-input",type:"file",accept:"*/*"},on:{change:t.onFileInputChange}}),r("div",{staticClass:"file-info"},[t.file?r("div",{staticClass:"file-name",attrs:{title:t.file.name}},[t._v(t._s(t.file.name))]):t._e(),t.file?r("div",{staticClass:"file-size"},[t._v(t._s(t.bytesToSize(t.file.size)))]):t._e(),t.file?r("div",{staticClass:"file-mtime"},[t._v(t._s(t.secondsToFormattedString(t.file.lastModified/1e3)))]):t._e()])])])};var Ut=[];qt._withStripped=true;const Kt=undefined;const Xt="data-v-403332ae";const Yt=undefined;const Wt=false;const Zt=vt({render:qt,staticRenderFns:Ut},Kt,Jt,Xt,Wt,Yt,false,undefined,undefined,undefined);var Qt={name:"TextInput",computed:{...N("input",{_text:t=>t.text}),text:{get(){return this._text},set(t){this.setText(t)}}},methods:{...$("input",["setText"])}};const te=Qt;var ee=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"text-input-component"},[r("label",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"Type a text here"},domProps:{value:t.text},on:{input:function(e){if(e.target.composing){return}t.text=e.target.value}}})])])};var re=[];ee._withStripped=true;const ie=undefined;const ne="data-v-553cd546";const ae=undefined;const se=false;const oe=vt({render:ee,staticRenderFns:re},ie,te,ne,se,ae,false,undefined,undefined,undefined);var ue={name:"InputSwitch",props:["storeInMemory"],computed:{...N("input",{inputText:t=>t.text,inputFile:t=>t.file}),...E("input",["textByteSize","fileByteSize"]),activeInputType:{get(){return this.$store.state["input-switch"].activeInputType},set(t){this.$store.commit("input-switch/activeInputType",t)}},activeInputTypeAutoSwitcher:{get(){return this.$store.state["input-switch"].activeInputTypeAutoSwitcher},set(t){this.$store.commit("input-switch/activeInputTypeAutoSwitcher",t)}},inputByteSize(){if(this.activeInputType==="text"){return this.textByteSize}if(this.activeInputType==="file"){return this.fileByteSize}return null}},methods:{...D("input",["initBinary"]),...$("input",["clearBinary","resetError"])},watch:{activeInputType(){$t.$emit("input-changed")},async storeInMemory(){if(this.storeInMemory){if(this.inputFile){await this.initBinary()}}else{this.clearBinary()}},async inputFile(){this.resetError();if(this.activeInputTypeAutoSwitcher){this.activeInputType="file"}if(this.activeInputType==="file"){$t.$emit("input-changed")}if(this.storeInMemory){if(this.inputFile){await this.initBinary()}else{this.clearBinary()}}},inputText(){if(this.activeInputTypeAutoSwitcher){this.activeInputType="text"}if(this.activeInputType==="text"){$t.$emit("input-changed")}}},components:{FormattedNumber:Nt}};const ce=ue;var le=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"input-switch"},[r("div",{staticClass:"switch-line"},[t._v("Input:"),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.activeInputType,expression:"activeInputType"}],attrs:{type:"radio",name:"input",value:"text"},domProps:{checked:t._q(t.activeInputType,"text")},on:{change:function(e){t.activeInputType="text"}}}),t._v("Text")]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.activeInputType,expression:"activeInputType"}],attrs:{type:"radio",name:"input",value:"file"},domProps:{checked:t._q(t.activeInputType,"file")},on:{change:function(e){t.activeInputType="file"}}}),t._v("File")]),r("label",{staticClass:"input-switch-checkbox",attrs:{title:"Switch the input type automatically based on the corresponding input change"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.activeInputTypeAutoSwitcher,expression:"activeInputTypeAutoSwitcher"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.activeInputTypeAutoSwitcher)?t._i(t.activeInputTypeAutoSwitcher,null)>-1:t.activeInputTypeAutoSwitcher},on:{change:function(e){var r=t.activeInputTypeAutoSwitcher,i=e.target,n=i.checked?true:false;if(Array.isArray(r)){var a=null,s=t._i(r,a);if(i.checked){s<0&&(t.activeInputTypeAutoSwitcher=r.concat([a]))}else{s>-1&&(t.activeInputTypeAutoSwitcher=r.slice(0,s).concat(r.slice(s+1)))}}else{t.activeInputTypeAutoSwitcher=n}}}}),t._v("Auto-Switch")])]),r("div",{staticClass:"input-info"},[t._v("Input size:\n"),t.activeInputType==="file"&&t.inputFile===null?r("span",{staticClass:"red"},[t._v("no file selected")]):r("span",[r("FormattedNumber",{attrs:{number:t.inputByteSize}}),t._v("\nbytes")],1)])])};var pe=[];le._withStripped=true;const de=undefined;const fe="data-v-f83e6846";const he=undefined;const me=false;const ve=vt({render:le,staticRenderFns:pe},de,ce,fe,me,he,false,undefined,undefined,undefined);var ye={name:"MemoryConsuming",data(){return{memory:performance.memory,intervalId:null,over100:false}},computed:{jsHeapSizeLimit(){return this.memory.jsHeapSizeLimit},totalJSHeapSize(){return this.memory.totalJSHeapSize},usedJSHeapSize(){return this.memory.usedJSHeapSize},percent(){const t=this.totalJSHeapSize/(this.jsHeapSizeLimit/100);this.over100=t>100;return this.over100?100:t},formattedSize(){return dt(this.totalJSHeapSize)},isSupported(){return this.memory}},mounted(){if(!this.isSupported){return}this.intervalId=setInterval(()=>{this.memory=performance.memory},1e3)},beforeDestroy(){if(this.intervalId){clearInterval(this.intervalId)}}};const ge=ye;var _e=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return t.isSupported?r("div",{staticClass:"memory-consuming",style:{width:t.percent+"%"},attrs:{title:"Heap size: "+t.formattedSize}},[r("div",{staticClass:"visible",class:{over100:t.over100}}),r("div",{staticClass:"invisible"})]):t._e()};var be=[];_e._withStripped=true;const we=undefined;const Te="data-v-743f0284";const Se=undefined;const Ce=false;const Me=vt({render:_e,staticRenderFns:be},we,ge,Te,Ce,Se,false,undefined,undefined,undefined);class Ie{static binarySupported=true;static updateSupported=true}class xe extends Ie{static githubName="blueimp/JavaScript-MD5";static binarySupported=false;static updateSupported=false;static hash(t){if(!ct(t)){throw new TypeError("Data must be a string")}return blueimpMD5(t)}}class Ae extends Ie{static githubName="brix/crypto-js";constructor(){super();this.hasher=CryptoJS.algo.MD5.create()}static _consumize(t){if(ct(t)){return t}else if(ArrayBuffer.isView(t)||ot(t)){return CryptoJS.lib.WordArray.create(t)}else{throw new TypeError("Data must be a string or a buffer")}}update(t){const e=Ae._consumize(t);this.hasher.update(e);return this}finalize(){return this.hasher.finalize().toString()}static hash(t){const e=Ae._consumize(t);return CryptoJS.MD5(e).toString()}}class Fe extends Ie{static githubName="crypto-browserify/md5.js";constructor(){super();this.hasher=new CbMD5}_consumize(t){if(ct(t)){return t}else if(ArrayBuffer.isView(t)||ot(t)){return Buffer.from(t)}else{throw new TypeError("Data must be a string or a buffer")}}update(t){const e=this._consumize(t);this.hasher.update(e);return this}finalize(){return this.hasher.digest("hex")}static hash(t){return(new Fe).update(t).finalize()}}class ke extends Ie{static githubName="emn178/js-md5";constructor(){super();this.hasher=JsMD5.create()}update(t){this.hasher.update(t);return this}finalize(){return this.hasher.hex()}static hash(t){return JsMD5(t)}}class ze extends Ie{static githubName="pvorb/node-md5";static updateSupported=false;static _consumize(t){if(ct(t)){return t}else if(ArrayBuffer.isView(t)||ot(t)){return Buffer.from(t)}else{throw new TypeError("Data must be a string or a buffer")}}static hash(t){return nodeMD5(ze._consumize(t))}}class Be extends Ie{static githubName="satazor/js-spark-md5";constructor(){super();this.hasher=new SparkMD5.ArrayBuffer}static _consumize(t){if(ct(t)){return(new TextEncoder).encode(t)}return t}update(t){const e=Be._consumize(t);this.hasher.append(e);return this}finalize(){return this.hasher.end()}static hash(t){const e=Be._consumize(t);return SparkMD5.ArrayBuffer.hash(e)}}const Ne={};Object.assign(Ne,{Blueimp:xe,CryptoJS:Ae,Browserify:Fe,Emn178:ke,Node:ze,Spark:Be});Object.defineProperty(Ne,"list",{get:function(){return Object.values(this)}});var $e={name:"MainContainer",data(){return{hashers:Ne.list,storeInMemory:false,streamType:"FileReader",animation:true,fps:25,readerChunkSizeMB:2}},computed:{...N("input",{inputText:t=>t.text,inputFile:t=>t.file,inputBinary:t=>t.binary,binaryLoading:t=>t.binaryLoading,loadingToMemoryTime:t=>t.loadingToMemoryTime,error:t=>t.error}),...N("input-switch",{activeInputType:t=>t.activeInputType,activeInputTypeAutoSwitcher:t=>t.activeInputTypeAutoSwitcher}),input(){if(this.activeInputType==="file"){return this.inputBinary||this.inputFile}else if(this.activeInputType==="text"){return this.inputText}},readerChunkSize(){return Math.trunc(Number(this.readerChunkSizeMB)*1024*1024)}},methods:{async computeAll(){$t.$emit("input-changed");for(const t of this.$refs.items){await t.compute();await new Promise(t=>it(t))}}},watch:{error(){this.storeInMemory=false}},components:{TextInput:oe,FileInputDragNDrop:Zt,FormattedNumber:Nt,HasherItem:Gt,InputSwitch:ve,MemoryConsuming:Me}};const Ee=$e;var De=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"main-container-component"},[r("MemoryConsuming"),r("div",{staticClass:"inputs"},[r("div",{staticClass:"text-input-wrapper"},[r("TextInput",{class:{"selected-input":t.activeInputType==="text"}})],1),r("div",{staticClass:"file-group"},[r("FileInputDragNDrop",{ref:"fileInputComponent",class:{"selected-input":t.activeInputType==="file"}}),r("div",{staticClass:"settings",class:{inactive:t.activeInputType!=="file"}},[r("div",{staticClass:"store-in-memory"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.storeInMemory,expression:"storeInMemory"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.storeInMemory)?t._i(t.storeInMemory,null)>-1:t.storeInMemory},on:{change:function(e){var r=t.storeInMemory,i=e.target,n=i.checked?true:false;if(Array.isArray(r)){var a=null,s=t._i(r,a);if(i.checked){s<0&&(t.storeInMemory=r.concat([a]))}else{s>-1&&(t.storeInMemory=r.slice(0,s).concat(r.slice(s+1)))}}else{t.storeInMemory=n}}}}),t._v("Store in memory\n"),t.error?r("span",{staticClass:"red",attrs:{title:t.error.name+": "+t.error.message}},[t._v("(error...)")]):t.binaryLoading?r("span",[t._v("(loadings...)")]):t.loadingToMemoryTime&&t.storeInMemory?r("span",{attrs:{title:"loaded in"}},[t._v("("),r("FormattedNumber",{attrs:{number:t.loadingToMemoryTime}}),t._v("\nms)")],1):t._e()])]),r("div",{staticClass:"stream-type"},[r("div",{style:{opacity:t.storeInMemory?.5:1}},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.streamType,expression:"streamType"}],attrs:{type:"radio",name:"streamType",value:"FileReader"},domProps:{checked:t._q(t.streamType,"FileReader")},on:{change:function(e){t.streamType="FileReader"}}}),t._v("FileReader")]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.streamType,expression:"streamType"}],attrs:{type:"radio",name:"streamType",value:"ReadableStream"},domProps:{checked:t._q(t.streamType,"ReadableStream")},on:{change:function(e){t.streamType="ReadableStream"}}}),t._v("ReadableStream")])]),r("label",{style:{opacity:t.streamType==="ReadableStream"&&!t.storeInMemory?.5:1},attrs:{title:"Chunk size for progressive hashing, Megabytes"}},[t._v("Chunk size, MB"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.readerChunkSizeMB,expression:"readerChunkSizeMB"}],class:{invalid:t.readerChunkSize<1},attrs:{type:"number",min:"0.1",step:"0.1",title:t.readerChunkSize>0?"":"Value must be greater than or equal to 1 byte"},domProps:{value:t.readerChunkSizeMB},on:{input:function(e){if(e.target.composing){return}t.readerChunkSizeMB=e.target.value}}})])]),r("div",{staticClass:"animation"},[r("span",{staticClass:"checkbox"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.animation,expression:"animation"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.animation)?t._i(t.animation,null)>-1:t.animation},on:{change:function(e){var r=t.animation,i=e.target,n=i.checked?true:false;if(Array.isArray(r)){var a=null,s=t._i(r,a);if(i.checked){s<0&&(t.animation=r.concat([a]))}else{s>-1&&(t.animation=r.slice(0,s).concat(r.slice(s+1)))}}else{t.animation=n}}}}),t._v("Animation,\n")])]),r("span",{staticClass:"fps",style:{opacity:t.animation?1:.5}},[r("label",[t._v("FPS"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.fps,expression:"fps"}],attrs:{type:"number"},domProps:{value:t.fps},on:{input:function(e){if(e.target.composing){return}t.fps=e.target.value}}})])])])])],1)]),r("InputSwitch",{attrs:{"store-in-memory":t.storeInMemory}}),r("div",{staticClass:"items"},t._l(t.hashers,(function(e,i){return r("HasherItem",{key:i,ref:"items",refInFor:true,attrs:{hasher:e,input:t.input,settings:{fps:t.fps,animation:t.animation,readerChunkSize:t.readerChunkSize,streamType:t.streamType,loadingToMemoryTime:t.loadingToMemoryTime}}})})),1),r("div",{staticClass:"interface"},[r("button",{on:{click:t.computeAll}},[t._v("Compute all")])])],1)};var Re=[];De._withStripped=true;const Oe=undefined;const je="data-v-3f23abd6";const Le=undefined;const Pe=false;const He=vt({render:De,staticRenderFns:Re},Oe,Ee,je,Pe,Le,false,undefined,undefined,undefined);new r["default"]({store:ft,render:t=>t(He)}).$mount("#app")})(Vue);
//# sourceMappingURL=index.min.js.map